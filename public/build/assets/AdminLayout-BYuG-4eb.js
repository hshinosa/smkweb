import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{r as f,J as y,R as N,q as P,j as U}from"./inertia-vendor-CFsdYvsV.js";import{z as A}from"./transition-CiB-21bZ.js";import{F as B}from"./app-SCjtbprB.js";import{aH as E,ar as G,aI as _,h as T,aJ as M,aK as R,X as H,g as q,Q as J,v as W,o as Q,j as X,B as V,aL as Y,k as Z,i as ee,aG as ae,q as K,I as se,F as te,s as re,b as ne,$ as ie,aM as oe}from"./ui-vendor-DKvpuSCb.js";const z=f.createContext(),p=({children:s})=>{const[a,t]=f.useState(!1),o=()=>{t(x=>!x)};return e.jsx(z.Provider,{value:{open:a,setOpen:t,toggleOpen:o},children:e.jsx("div",{className:"relative",children:s})})},le=({children:s})=>{const{open:a,setOpen:t,toggleOpen:o}=f.useContext(z);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:o,children:s}),a&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)})]})},de=({align:s="right",width:a="48",contentClasses:t="py-1 bg-white",children:o})=>{const{open:x,setOpen:d}=f.useContext(z);let h="origin-top";s==="left"?h="ltr:origin-top-left rtl:origin-top-right start-0":s==="right"?h="ltr:origin-top-right rtl:origin-top-left end-0":s==="top"&&(h="origin-bottom bottom-full mb-2 end-0");let i="";return a==="48"&&(i="w-48"),e.jsx(e.Fragment,{children:e.jsx(A,{show:x,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 ${s!=="top"?"mt-2":""} rounded-md shadow-lg ${h} ${i}`,onClick:()=>d(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+t,children:o})})})})},ce=({className:s="",children:a,...t})=>e.jsx(y,{...t,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+s,children:a});p.Trigger=le;p.Content=de;p.Link=ce;class me extends N.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,t){console.error("ErrorBoundary caught an error:",a,t),this.setState({error:a,errorInfo:t})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href=this.props.homeUrl||"/admin/dashboard"};render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 sm:p-12",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-10 h-10 text-red-600"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Oops! Terjadi Kesalahan"}),e.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Maaf, terjadi kesalahan yang tidak terduga. Tim kami telah diberitahu dan sedang menangani masalah ini."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 px-6 py-3 bg-accent-yellow text-gray-900 font-semibold rounded-lg hover:bg-yellow-500 transition-colors shadow-sm",children:[e.jsx(G,{size:18}),"Muat Ulang Halaman"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-gray-700 font-semibold rounded-lg border-2 border-gray-300 hover:bg-gray-50 transition-colors",children:[e.jsx(_,{size:18}),"Kembali ke Dashboard"]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Jika masalah terus berlanjut, silakan hubungi administrator sistem."})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Error ID: ",Date.now().toString(36).toUpperCase()]})})]})}):this.props.children}}const ue=s=>({LayoutDashboard:oe,LogOut:M,Newspaper:ie,CalendarDays:ne,Info:re,FileText:te,ImageIcon:se,LayoutGrid:K,MenuIcon:R,UserCog:ae,Star:ee,Mail:Z,Settings:Y,BookOpen:V,GraduationCap:X,Users:Q,Award:W,Sparkles:J,Database:q})[s]||K,xe=({href:s,icon:a,children:t,isActive:o,hasSubmenu:x,isOpen:d,onToggle:h,level:i=0,isMobile:c=!1,showAlert:w=!1})=>{const b=o?"bg-accent-yellow text-gray-900 font-bold shadow-sm":c?"text-gray-700 hover:bg-gray-100 hover:text-gray-900":"text-white hover:bg-white/10 hover:text-white",j=o?"text-gray-900":c?"text-gray-600":"text-white",g=a?ue(a):null,v=i===0?"pl-4":`pl-${8+i*4}`;return e.jsx("li",{className:"my-1",children:x?e.jsxs("button",{onClick:h,className:`flex items-center justify-between w-full py-3 px-4 text-sm font-medium rounded-lg transition-all duration-200 ${b} ${v}`,"aria-expanded":d,"aria-controls":`submenu-${i}`,children:[e.jsxs("span",{className:"flex items-center",children:[g&&e.jsx(g,{size:20,className:`mr-3 flex-shrink-0 ${j}`}),e.jsx("span",{className:"text-base",children:t}),w&&e.jsx("span",{className:"ml-2 inline-flex h-2.5 w-2.5 rounded-full bg-red-500"})]}),e.jsx(T,{size:18,className:`transform transition-transform duration-200 ${d?"rotate-180":""} ml-2 flex-shrink-0 ${j}`})]}):e.jsxs(y,{href:s||"#",className:`flex items-center py-3 px-4 text-sm font-medium rounded-lg transition-all duration-200 block ${b} ${v}`,children:[g&&e.jsx(g,{size:20,className:`mr-3 flex-shrink-0 ${j}`}),e.jsx("span",{className:"text-base",children:t}),w&&e.jsx("span",{className:"ml-2 inline-flex h-2.5 w-2.5 rounded-full bg-red-500"})]})})};function je({children:s,headerTitle:a="Dashboard Utama"}){const{auth:t,siteSettings:o,queueHealthBadge:x}=P().props,d=t?.admin,i=((r,m)=>r?r.startsWith("http")||r.startsWith("/")?r:`/storage/${r}`:m)(o?.general?.site_logo,"/images/logo-sman1-baleendah.png"),c=o?.general?.site_name||"SMAN 1 Baleendah",[w,b]=f.useState(!1),j=()=>{const r=route().current()||"",m=["admin.posts.*","admin.teachers.*","admin.extracurriculars.*","admin.alumni.*","admin.ptn-admissions.*","admin.tka-averages.*","admin.galleries.*","admin.faqs.*"],k=["admin.landingpage.content.*","admin.spmb.*","admin.program-studi.*","admin.school-profile.*","admin.curriculum.*","admin.academic-calendar.*"],C=["admin.rag-documents.*","admin.ai-settings.*"],n=m.some(l=>r.startsWith(l.replace(".*",""))),D=k.some(l=>r.startsWith(l.replace(".*",""))),u=C.some(l=>r.startsWith(l.replace(".*","")));return{konten_utama:D,master_data:n,ai_rag:u}},[g,v]=f.useState(j),I=r=>{v(m=>({...m,[r]:!m[r]}))},S=()=>b(!1),L=()=>b(r=>!r),F=[{title:"Dashboard Utama",href:route("admin.dashboard"),icon:"LayoutDashboard",routeName:"admin.dashboard"},{title:"Kelola Konten Utama",icon:"LayoutGrid",submenuKey:"konten_utama",sublinks:[{title:"Landing Page",href:route("admin.landingpage.content.index"),routeName:"admin.landingpage.content.*"},{title:"Informasi SPMB",href:route("admin.spmb.index"),routeName:"admin.spmb.*"},{title:"Program Studi",href:route("admin.program-studi.index"),routeName:"admin.program-studi.*"},{title:"Profil Sekolah",href:route("admin.school-profile.index"),routeName:"admin.school-profile.*"},{title:"Kurikulum",href:route("admin.curriculum.index"),routeName:"admin.curriculum.*"},{title:"Kalender Akademik",href:route("admin.academic-calendar.index"),routeName:"admin.academic-calendar.*"}]},{title:"Master Data & Berita",icon:"Newspaper",submenuKey:"master_data",sublinks:[{title:"Berita & Pengumuman",href:route("admin.posts.index"),routeName:"admin.posts.*"},{title:"Instagram Bots",href:route("admin.instagram-bots.index"),routeName:"admin.instagram-bots.*"},{title:"Guru & Staff",href:route("admin.teachers.index"),routeName:"admin.teachers.*"},{title:"Ekstrakurikuler",href:route("admin.extracurriculars.index"),routeName:"admin.extracurriculars.*"},{title:"Jejak Alumni",href:route("admin.alumni.index"),routeName:"admin.alumni.*"},{title:"Serapan PTN",href:route("admin.ptn-admissions.index"),routeName:"admin.ptn-admissions.*"},{title:"Hasil TKA",href:route("admin.tka-averages.index"),routeName:"admin.tka-averages.*"},{title:"Galeri Sekolah",href:route("admin.galleries.index"),routeName:"admin.galleries.*"},{title:"FAQ",href:route("admin.faqs.index"),routeName:"admin.faqs.*"}]},{title:"Pesan Kontak",icon:"Mail",href:route("admin.contact-messages.index"),routeName:"admin.contact-messages.*"},{title:"AI & RAG System",icon:"Sparkles",submenuKey:"ai_rag",sublinks:[{title:"RAG Documents",href:route("admin.rag-documents.index"),routeName:"admin.rag-documents.*"},{title:"AI Settings",href:route("admin.ai-settings.index"),routeName:"admin.ai-settings.*",alert:x?.status==="alert"}]},{title:"Pengaturan Situs",icon:"Settings",href:route("admin.site-settings.index"),routeName:"admin.site-settings.*"}],$=(r,m,k,C=!1)=>r.map((n,D)=>{const u=n.submenuKey||`${m}-${D}`,l=!!n.sublinks&&n.sublinks.length>0,O=n.routeName?route().current(n.routeName):n.href&&n.href!=="#"&&route().current(n.href);return e.jsxs(N.Fragment,{children:[e.jsx(xe,{href:l?void 0:n.href,icon:n.icon,isActive:O,hasSubmenu:l,isOpen:g[u],onToggle:l?()=>I(u):void 0,level:k,isMobile:C,showAlert:!!n.alert,children:n.title}),l&&g[u]&&e.jsx("ul",{id:`submenu-${u}`,className:"space-y-1",children:$(n.sublinks,u,k+1,C)})]},u)});return e.jsx(me,{homeUrl:route("admin.dashboard"),children:e.jsxs("div",{className:"h-screen flex bg-gray-100 overflow-hidden font-sans",children:[e.jsx(U,{title:`${a} - Admin ${c}`}),e.jsxs("aside",{className:"w-72 bg-primary border-r border-white/10 hidden lg:flex lg:flex-col fixed h-screen z-40 shadow-xl",children:[e.jsx("div",{className:"p-4 border-b border-white/10 bg-primary-darker/50",children:e.jsxs(y,{href:route("admin.dashboard"),className:"flex items-center px-2 py-2 group",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:i,alt:`Logo ${c}`,className:"h-12 w-auto rounded-lg shadow-sm"})}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-bold text-white block truncate",children:c}),e.jsx("span",{className:"text-xs text-white/60 block",children:"Panel Admin"})]})]})}),e.jsx("nav",{className:"flex-grow p-3 space-y-1 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:e.jsx("ul",{children:$(F,"sidebar",0)})}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-primary-darker/50",children:e.jsxs(p,{children:[e.jsx(p.Trigger,{children:e.jsxs("button",{className:"flex items-center w-full text-left p-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent-yellow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i,alt:"Profil Admin",className:"h-11 w-11 rounded-full object-cover border-2 border-white/20"}),e.jsx("span",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-primary rounded-full"})]}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-white text-sm truncate",children:d?d.username:"Admin"}),e.jsx("p",{className:"text-xs text-white/50 capitalize",children:"Administrator"})]}),e.jsx(T,{size:18,className:"text-white/40 flex-shrink-0"})]})}),e.jsxs(p.Content,{align:"top",width:"56",contentClasses:"py-2 bg-white shadow-xl border border-gray-100 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status Online"})]})}),e.jsx(p.Link,{href:route("admin.logout"),method:"post",as:"button",className:"w-full text-left px-4 py-2.5 hover:bg-red-50 transition-colors",children:e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(M,{size:18,className:"mr-2.5"}),e.jsx("span",{className:"font-semibold text-sm",children:"Keluar / Logout"})]})})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:pl-72 min-w-0",children:[e.jsxs("header",{className:"lg:hidden bg-white border-b border-gray-200 h-16 flex items-center px-4 sticky top-0 z-40 shadow-sm",children:[e.jsx("button",{onClick:L,className:"p-2.5 -ml-2 text-gray-700 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Buka menu navigasi",children:e.jsx(R,{size:24})}),e.jsxs("div",{className:"ml-3 flex items-center gap-3 min-w-0",children:[e.jsx("img",{src:i,alt:"Logo",className:"h-9 w-auto flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 truncate uppercase tracking-wide",children:a}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:c})]})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto pt-2 sm:pt-4 bg-gray-100",children:[e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 mb-4 hidden lg:block",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:a}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Kelola konten dan pengaturan sekolah dengan mudah"})]})}),e.jsx("div",{className:"px-2 sm:px-4 lg:px-6 pb-6",children:s})]}),e.jsx(A,{show:w,as:N.Fragment,children:e.jsxs("div",{className:"lg:hidden fixed inset-0 z-[70] flex",role:"dialog","aria-modal":"true","aria-label":"Menu navigasi",children:[e.jsx(A.Child,{as:N.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true",onClick:S})}),e.jsx(A.Child,{as:N.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs("div",{className:"relative flex flex-col w-80 max-w-[calc(100%-4rem)] bg-white h-full shadow-2xl",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-white sticky top-0 z-10",children:[e.jsxs(y,{href:route("admin.dashboard"),className:"flex items-center gap-3",onClick:S,children:[e.jsx("img",{src:i,alt:`Logo ${c}`,className:"h-11 w-auto"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-800 block",children:c}),e.jsx("span",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),e.jsx("button",{onClick:S,className:"p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Tutup menu",children:e.jsx(H,{size:22})})]}),e.jsx("nav",{className:"flex-grow p-3 space-y-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent",children:e.jsx("ul",{children:$(F,"mobile",0,!0)})}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:i,alt:"Profil Admin",className:"h-11 w-11 rounded-full object-cover border-2 border-primary/20"}),e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm truncate",children:d?d.username:"Admin"}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:"Administrator"})]})]}),e.jsx(y,{href:route("admin.logout"),method:"post",as:"button",className:"p-2.5 text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Keluar",children:e.jsx(M,{size:22})})]})})]})})]})}),e.jsx(B,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.75rem",padding:"1rem"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})]})})}export{je as A};
