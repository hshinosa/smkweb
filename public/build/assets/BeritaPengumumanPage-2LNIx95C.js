import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{q as I,r as h,R as A,J as l}from"./inertia-vendor-CFsdYvsV.js";import{g as M,N as E,F}from"./Footer-BhhCzIEX.js";import{S as H}from"./SEOHead-xCz4n0Yi.js";import{R as u}from"./ResponsiveImage-DIEVC2JF.js";import{T as v}from"./typography-ChUjANkt.js";import{$ as o,C as k,a as O,S as W,aZ as z,ab as J,n as K,aS as Q}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./imageUtils-wYQj-GuB.js";const w=["Semua","Berita","Pengumuman","Prestasi","Akademik","Kegiatan","Alumni"],U=({news:t})=>{const m=typeof t.image=="object"?t.image:null,i=t.featured_image||(typeof t.image=="string"?t.image:null);return e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 group border-b border-gray-100 last:border-0 pb-6 last:pb-0",children:[e.jsxs("div",{className:"w-full sm:w-[30%] h-48 sm:h-32 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100 relative",children:[e.jsx(u,{media:m,src:i,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",fallback:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(o,{className:"w-12 h-12 text-gray-300"})})}),e.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm px-2 py-0.5 rounded text-xs font-bold text-primary shadow-sm",children:t.category})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]}),e.jsx(l,{href:`/berita/${t.slug}`,className:"block",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors line-clamp-2 font-serif",children:t.title})}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:t.excerpt}),e.jsxs(l,{href:`/berita/${t.slug}`,className:"text-primary text-sm font-semibold hover:underline inline-flex items-center",children:["Baca Selengkapnya ",e.jsx(Q,{className:"w-3 h-3 ml-1"})]})]})]})};function se({posts:t=[],popularPosts:m=[]}){const{siteSettings:i}=I().props,x=M(i),[n,S]=h.useState(""),[c,C]=h.useState("Semua"),[p,b]=h.useState(5),L=5,g=i?.hero_posts||{},$=i?.general?.hero_image||"/images/hero-bg-sman1baleendah.jpeg",P=a=>typeof a!="string"?null:a.startsWith("http")||a.startsWith("/")?a:`/storage/${a}`,j=h.useMemo(()=>t.filter(a=>{const s=a.title.toLowerCase().includes(n.toLowerCase())||a.excerpt&&a.excerpt.toLowerCase().includes(n.toLowerCase()),f=c==="Semua"||a.category===c;return s&&f}),[t,n,c]),r=j.slice(0,6),y=j.slice(6),N=y.slice(0,p),B=p<y.length,_=m.length>0?m:t.slice(0,5),T=()=>{b(a=>a+L)};A.useEffect(()=>{b(5)},[n,c]);const D=t.filter(a=>a.category==="Pengumuman").slice(0,5).map(a=>a.title),R=a=>{const s=a.split(" ");if(s.length<=1)return a;const f=s.pop();return e.jsxs(e.Fragment,{children:[s.join(" ")," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300",children:f})]})},d=i?.general?.site_name||"SMAN 1 Baleendah";return e.jsxs("div",{className:"bg-secondary font-sans text-gray-800",children:[e.jsx(H,{title:`${g.title||"Berita & Pengumuman"} - ${d}`,description:`Berita terbaru, pengumuman, dan informasi penting dari ${d}. Update kegiatan, prestasi, dan event sekolah.`,keywords:`berita, pengumuman, informasi sekolah, update, event, ${d}`,image:g.background_image||"/images/news-banner.jpg"}),e.jsx(E,{logoSman1:x.logoSman1,profilLinks:x.profilLinks,akademikLinks:x.akademikLinks,programStudiLinks:x.programStudiLinks}),e.jsxs("main",{id:"main-content",className:"pt-20",tabIndex:"-1",children:[e.jsxs("section",{className:"relative h-[40vh] min-h-[400px] flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:P($),alt:`Berita ${d}`,className:"w-full h-full object-cover",loading:"eager",fetchpriority:"high",width:"1920",height:"1080"}),e.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),e.jsxs("div",{className:"relative z-10 container mx-auto px-4 text-center text-white",children:[e.jsx("h1",{className:`${v.heroTitle} mb-4`,children:R(g.title||"Berita & Pengumuman")}),e.jsx("p",{className:`${v.heroText} max-w-2xl mx-auto opacity-90`,children:g.subtitle||`Dapatkan informasi terkini seputar prestasi siswa, agenda sekolah, dan berita terbaru dari ${d}.`})]})]}),e.jsx("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8 mb-12 py-12",children:r.length>0?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4 auto-rows-[200px]",children:[e.jsxs("div",{className:"md:col-span-2 lg:col-span-7 lg:row-span-2 relative rounded-2xl overflow-hidden group shadow-lg",children:[e.jsx(u,{media:typeof r[0]?.image=="object"?r[0].image:null,src:r[0]?.featured_image||(typeof r[0]?.image=="string"?r[0].image:null),alt:r[0].title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700",fallback:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center",children:e.jsx(o,{className:"w-20 h-20 text-white/30"})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 md:p-8",children:[e.jsx("span",{className:"inline-block self-start px-3 py-1 bg-accent-yellow text-gray-900 text-xs font-bold rounded-full mb-3",children:r[0].category}),e.jsx(l,{href:`/berita/${r[0].slug}`,children:e.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white font-serif leading-tight mb-3 hover:underline decoration-accent-yellow decoration-2 underline-offset-4",children:r[0].title})}),e.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),new Date(r[0].created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]})]}),r.slice(1,3).map((a,s)=>e.jsxs("div",{className:"lg:col-span-5 relative rounded-2xl overflow-hidden group shadow-md",children:[e.jsx(u,{media:typeof a.image=="object"?a.image:null,src:a.featured_image||(typeof a.image=="string"?a.image:null),alt:a.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700",fallback:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center",children:e.jsx(o,{className:"w-10 h-10 text-white/30"})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 md:p-5",children:[e.jsx("span",{className:"inline-block self-start px-2 py-0.5 bg-white/20 backdrop-blur-md text-white text-xs font-bold rounded mb-2 border border-white/30",children:a.category}),e.jsx(l,{href:`/berita/${a.slug}`,children:e.jsx("h3",{className:"text-base md:text-lg font-bold text-white font-serif leading-snug hover:text-accent-yellow transition-colors line-clamp-2",children:a.title})})]})]},a.id)),r.slice(3,6).map(a=>e.jsxs("div",{className:"lg:col-span-4 relative rounded-2xl overflow-hidden group shadow-md",children:[e.jsx(u,{media:typeof a.image=="object"?a.image:null,src:a.featured_image||(typeof a.image=="string"?a.image:null),alt:a.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700",fallback:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center",children:e.jsx(o,{className:"w-8 h-8 text-white/30"})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4",children:[e.jsx("span",{className:"inline-block self-start px-2 py-0.5 bg-white/20 backdrop-blur-md text-white text-[10px] font-bold rounded mb-1 border border-white/30",children:a.category}),e.jsx(l,{href:`/berita/${a.slug}`,children:e.jsx("h3",{className:"text-sm font-bold text-white font-serif leading-snug hover:text-accent-yellow transition-colors line-clamp-2",children:a.title})})]})]},a.id))]}):e.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-sm border border-gray-100",children:[e.jsx(o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Belum ada berita"}),e.jsx("p",{className:"text-gray-500",children:"Silakan kembali lagi nanti untuk informasi terbaru."})]})}),e.jsx("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-gray-200 pb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-serif",children:"Berita Terbaru"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("select",{value:c,onChange:a=>C(a.target.value),className:"bg-white border border-gray-300 text-gray-700 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2",children:w.map((a,s)=>e.jsx("option",{value:a,children:a},s))})})]}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsx("div",{className:"space-y-6",children:N.length>0?N.map(a=>e.jsx(U,{news:a},a.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(o,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Tidak ada berita lainnya untuk ditampilkan."})]})})}),B&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("button",{onClick:T,className:"px-6 py-3 bg-white border border-gray-200 text-gray-700 font-bold rounded-full hover:bg-primary hover:text-white hover:border-primary hover:shadow-md transition-all duration-300 flex items-center gap-2",children:["Muat Lebih Banyak",e.jsx(O,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Cari berita...",value:n,onChange:a=>S(a.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent shadow-sm outline-none transition-all"}),e.jsx(W,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-accent-yellow p-6 rounded-r-xl relative overflow-hidden",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-orange-600"}),"Pengumuman Penting"]}),e.jsx("ul",{className:"space-y-3",children:D.map((a,s)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-800 border-b border-accent-yellow/20 last:border-0 pb-2 last:pb-0",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),e.jsx("span",{className:"leading-relaxed",children:a})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2 border-b border-gray-100 pb-4",children:[e.jsx(J,{className:"w-5 h-5 text-primary"}),"Terpopuler"]}),e.jsx("div",{className:"space-y-5",children:_.map((a,s)=>e.jsxs(l,{href:`/berita/${a.slug}`,className:"flex gap-4 group",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-300 font-serif group-hover:text-primary transition-colors",children:["0",s+1]}),e.jsx("div",{children:e.jsx("h4",{className:"text-gray-800 font-medium text-sm leading-snug group-hover:text-primary transition-colors line-clamp-2",children:a.title})})]},a.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-primary"}),"Kategori"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((a,s)=>e.jsx(l,{href:"#",className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full hover:bg-primary hover:text-white transition-colors",children:a},s))})]})]})]})})]}),e.jsx(F,{})]})}export{se as default};
