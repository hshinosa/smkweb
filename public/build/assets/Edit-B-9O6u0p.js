import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{S as u,j as p,f as c}from"./inertia-vendor-CFsdYvsV.js";import{A as h}from"./AdminLayout-BGv0ni_W.js";import{P as g}from"./PrimaryButton-BP4GzKQS.js";import{T as m}from"./TextInput-DXlIWAoE.js";import{I as i}from"./InputLabel-B7Cy73bq.js";import{I as o}from"./InputError-CW7Z9Fko.js";import{A as j,ar as f,r as y}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./transition-CiB-21bZ.js";import"./app-BjrorLXI.js";import"./typography-ChUjANkt.js";function S({document:s}){const{data:a,setData:r,put:d,processing:n,errors:l}=u({title:s.title||"",content:s.content||"",excerpt:s.excerpt||"",category:s.category||"",is_active:s.is_active??!0}),x=t=>{t.preventDefault(),d(route("admin.rag-documents.update",s.id))};return e.jsxs(h,{children:[e.jsx(p,{title:`Edit: ${s.title}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>c.visit(route("admin.rag-documents.index")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(j,{size:16,className:"mr-2"}),"Kembali"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Dokumen RAG"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update dokumen untuk knowledge base AI"})]}),e.jsx("form",{onSubmit:x,className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(f,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Info Dokumen"}),e.jsxs("p",{className:"text-blue-700 mt-1",children:["Source: ",e.jsx("span",{className:"font-medium",children:s.source||"manual"}),s.file_type&&e.jsxs(e.Fragment,{children:[" â€¢ File: ",e.jsxs("span",{className:"font-medium",children:[".",s.file_type]})]})]}),e.jsxs("p",{className:"text-blue-700",children:["Chunks: ",e.jsx("span",{className:"font-medium",children:s.chunks_count||0})]})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(y,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium",children:"Perhatian"}),e.jsx("p",{className:"mt-1",children:"Perubahan konten akan otomatis memproses ulang embeddings"})]})]})}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",value:"Judul Dokumen"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"}),e.jsx(m,{id:"title",type:"text",className:"mt-1 block w-full",value:a.title,onChange:t=>r("title",t.target.value),required:!0,placeholder:"Contoh: Informasi PPDB 2025"}),e.jsx(o,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",value:"Kategori"}),e.jsx(m,{id:"category",type:"text",className:"mt-1 block w-full",value:a.category,onChange:t=>r("category",t.target.value),placeholder:"Contoh: PPDB, Akademik, Ekstrakurikuler"}),e.jsx(o,{message:l.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"excerpt",value:"Ringkasan Singkat"}),e.jsx("textarea",{id:"excerpt",className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:border-accent-yellow focus:ring focus:ring-accent-yellow focus:ring-opacity-50 text-sm",rows:2,value:a.excerpt,onChange:t=>r("excerpt",t.target.value),placeholder:"Ringkasan singkat tentang dokumen ini..."}),e.jsx(o,{message:l.excerpt,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"content",value:"Konten Dokumen"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"}),e.jsx("textarea",{id:"content",className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:border-accent-yellow focus:ring focus:ring-accent-yellow focus:ring-opacity-50 font-mono text-sm",rows:12,value:a.content,onChange:t=>r("content",t.target.value),required:!0,placeholder:"Konten dokumen..."}),e.jsx(o,{message:l.content,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center pt-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:t=>r("is_active",t.target.checked),className:"h-4 w-4 text-accent-yellow focus:ring-accent-yellow border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Aktifkan dokumen ini untuk chatbot"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Terakhir diupdate: ",new Date(s.updated_at).toLocaleDateString("id-ID")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx("button",{type:"button",onClick:()=>c.visit(route("admin.rag-documents.index")),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Batal"}),e.jsx(g,{type:"submit",disabled:n,className:"!bg-accent-yellow !text-gray-900 hover:!bg-yellow-500 px-5 py-2",children:n?"Menyimpan...":"Update Dokumen"})]})]})]})})]})})]})}export{S as default};
