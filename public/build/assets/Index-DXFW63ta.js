import{j as t}from"./markdown-vendor-CIGiOj7E.js";import{r as m,S as k}from"./inertia-vendor-CFsdYvsV.js";import{C}from"./ContentManagementPage-DVU9nbB8.js";import{F as w}from"./FileUploadField-DGzk2RBu.js";import{z as b}from"./app-BjrorLXI.js";import{I as D,o as S,N as T,R as I,L as A,p as F,B as x}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./AdminLayout-BGv0ni_W.js";import"./transition-CiB-21bZ.js";import"./PrimaryButton-BP4GzKQS.js";import"./typography-ChUjANkt.js";import"./InputLabel-B7Cy73bq.js";function _({auth:H,settings:c={},sectionMeta:d={},activeSection:h="hero"}){const[o,g]=m.useState(h),v={BookOpen:x,Activity:F,ListChecks:A,Repeat:I,Network:T,Users:S,ImageIcon:D},f=m.useMemo(()=>c?.[o]||{},[o,c]),s=k({section:o,content:f,media:null});m.useEffect(()=>{s.setData("section",o),s.setData("content",c?.[o]||{}),s.setData("media",null)},[o,c]);const j=Object.keys(d).map(e=>({key:e,...d[e],icon:v[d[e].icon]||x})),y=e=>{g(e),s.setData("section",e),s.setData("content",c?.[e]||{}),s.setData("media",null)},N=e=>{e&&e.preventDefault(),s.post(route("admin.curriculum.update"),{forceFormData:!0,preserveScroll:!0,preserveState:!1,onSuccess:()=>b.success("Konten kurikulum berhasil disimpan."),onError:()=>b.error("Gagal menyimpan konten kurikulum.")})},n=(e,a)=>{s.setData("content",{...s.data.content,[e]:a})},l=(e,a,r)=>{const p=[...s.data.content?.[e]||[]];p[a]=r,n(e,p)},u=(e,a)=>{const r=[...s.data.content?.[e]||[]];r.push(a),n(e,r)},i=(e,a)=>{const r=[...s.data.content?.[e]||[]];r.splice(a,1),n(e,r)};return t.jsx(C,{headerTitle:"Manajemen Kurikulum",headTitle:"Manajemen Kurikulum",tabs:j,activeTab:o,setActiveTab:y,processing:s.processing,onSave:N,errors:s.errors,children:t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 space-y-4",children:[t.jsxs("div",{className:"border-b pb-3",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("span",{className:"bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"1"}),d[o]?.label]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d[o]?.description})]}),t.jsxs("div",{className:"grid gap-4",children:["title"in(s.data.content||{})&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Judul"}),t.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:s.data.content?.title||"",onChange:e=>n("title",e.target.value)})]}),"subtitle"in(s.data.content||{})&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subjudul"}),t.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:s.data.content?.subtitle||"",onChange:e=>n("subtitle",e.target.value)})]}),"description"in(s.data.content||{})&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),t.jsx("textarea",{rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:s.data.content?.description||"",onChange:e=>n("description",e.target.value)})]}),"source"in(s.data.content||{})&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sumber"}),t.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:s.data.content?.source||"",onChange:e=>n("source",e.target.value)})]}),Array.isArray(s.data.content?.items)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daftar Item"}),t.jsxs("div",{className:"space-y-3",children:[s.data.content.items.map((e,a)=>t.jsx("div",{className:"grid gap-2",children:typeof e=="string"?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:e,onChange:r=>l("items",a,r.target.value)}),t.jsx("button",{type:"button",onClick:()=>i("items",a),className:"p-2 text-red-500 hover:bg-red-50 rounded-md",children:"Hapus"})]}):t.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Judul",value:e.title||"",onChange:r=>l("items",a,{...e,title:r.target.value})}),t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Deskripsi",value:e.description||"",onChange:r=>l("items",a,{...e,description:r.target.value})}),t.jsx("button",{type:"button",onClick:()=>i("items",a),className:"text-red-500 hover:text-red-700 text-sm",children:"Hapus"})]})},a)),t.jsx("button",{type:"button",onClick:()=>u("items",typeof s.data.content.items?.[0]=="string"?"":{title:"",description:""}),className:"mt-2 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:"Tambah Item"})]})]}),Array.isArray(s.data.content?.steps)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tahapan"}),t.jsxs("div",{className:"space-y-3",children:[s.data.content.steps.map((e,a)=>t.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Judul",value:e.title||"",onChange:r=>l("steps",a,{...e,title:r.target.value})}),t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Deskripsi",value:e.description||"",onChange:r=>l("steps",a,{...e,description:r.target.value})}),t.jsx("button",{type:"button",onClick:()=>i("steps",a),className:"text-red-500 hover:text-red-700 text-sm",children:"Hapus"})]},a)),t.jsx("button",{type:"button",onClick:()=>u("steps",{title:"",description:""}),className:"mt-2 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:"Tambah Tahapan"})]})]}),Array.isArray(s.data.content?.stats)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statistik (PISA)"}),t.jsxs("div",{className:"space-y-3",children:[s.data.content.stats.map((e,a)=>t.jsxs("div",{className:"grid md:grid-cols-3 gap-2",children:[t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Bidang",value:e.label||"",onChange:r=>l("stats",a,{...e,label:r.target.value})}),t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"LOTS",value:e.lots||"",onChange:r=>l("stats",a,{...e,lots:r.target.value})}),t.jsx("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"HOTS",value:e.hots||"",onChange:r=>l("stats",a,{...e,hots:r.target.value})}),t.jsx("button",{type:"button",onClick:()=>i("stats",a),className:"text-red-500 hover:text-red-700 text-sm",children:"Hapus"})]},a)),t.jsx("button",{type:"button",onClick:()=>u("stats",{label:"",lots:"",hots:""}),className:"mt-2 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:"Tambah Baris"})]})]}),d[o]?.hasMedia&&t.jsx(w,{id:`${o}-media`,label:"Media",previewUrl:s.data.content?.image?.original_url,onChange:e=>s.setData("media",e)})]})]})})})}export{_ as default};
