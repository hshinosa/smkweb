import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{r as y,S as N,j as b,f as _}from"./inertia-vendor-CFsdYvsV.js";import{A as w}from"./AdminLayout-BYuG-4eb.js";import{M as T}from"./Modal-rJC0U0UH.js";import{I as m}from"./InputLabel-B7Cy73bq.js";import{T as n}from"./TextInput-DXlIWAoE.js";import{I as c}from"./InputError-CW7Z9Fko.js";import{P as j}from"./PrimaryButton-BP4GzKQS.js";import{S as C}from"./SecondaryButton-DgUeLkam.js";import{T as k,ap as M,a as S,X as A,e as D}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./transition-CiB-21bZ.js";import"./app-SCjtbprB.js";import"./index-CjLAxSrQ.js";import"./typography-ChUjANkt.js";function W({groups:d}){const[u,o]=y.useState(!1),{data:s,setData:t,post:p,processing:g,errors:r,reset:x}=N({academic_year:new Date().getFullYear().toString(),exam_type:"UTBK",subject_name:"",average_score:""}),h=()=>{x(),o(!0)},l=()=>{o(!1),x()},f=a=>{a.preventDefault(),p(route("admin.tka-averages.store"),{onSuccess:()=>l()})},v=(a,i)=>{confirm(`Yakin ingin menghapus seluruh data ${i} ${a}?`)&&_.delete(route("admin.tka-averages.group.destroy"),{data:{academic_year:a,exam_type:i}})};return e.jsxs(w,{title:"Hasil TKA",header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Manajemen Hasil TKA"}),e.jsxs(j,{onClick:h,className:"!bg-primary",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Tambah Data"]})]}),children:[e.jsx(b,{title:"Manajemen Hasil TKA"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map((a,i)=>e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-700 rounded-full",children:a.academic_year}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mt-2",children:a.exam_type})]}),e.jsx("button",{onClick:()=>v(a.academic_year,a.exam_type),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Hapus Grup",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:[a.subject_count," Mata Pelajaran"]}),e.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-700",children:[e.jsx(M,{className:"w-4 h-4"}),"Avg: ",parseFloat(a.overall_average).toFixed(2)]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100",children:e.jsxs("a",{href:route("admin.tka-averages.show",[a.academic_year,a.exam_type]),className:"text-primary hover:text-primary/80 text-sm font-medium flex items-center justify-center w-full",children:["Lihat Detail ",e.jsx(S,{className:"w-4 h-4 ml-1"})]})})]})},i)),d.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-lg border border-dashed border-gray-300",children:[e.jsx("p",{className:"text-gray-500",children:"Belum ada data Hasil TKA."}),e.jsx("button",{onClick:h,className:"text-primary font-medium mt-2 hover:underline",children:"Tambah Data Pertama"})]})]})})}),e.jsx(T,{show:u,onClose:l,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Tambah Data Nilai"}),e.jsx("button",{onClick:l,children:e.jsx(A,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{value:"Tahun Akademik"}),e.jsx(n,{value:s.academic_year,onChange:a=>t("academic_year",a.target.value),placeholder:"2024",className:"w-full mt-1"}),e.jsx(c,{message:r.academic_year,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Jenis Ujian"}),e.jsx(n,{value:s.exam_type,onChange:a=>t("exam_type",a.target.value),placeholder:"UTBK / TO 1",className:"w-full mt-1"}),e.jsx(c,{message:r.exam_type,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Nama Mata Pelajaran"}),e.jsx(n,{value:s.subject_name,onChange:a=>t("subject_name",a.target.value),placeholder:"Contoh: Matematika Saintek",className:"w-full mt-1"}),e.jsx(c,{message:r.subject_name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Nilai Rata-rata"}),e.jsx(n,{type:"number",step:"0.01",value:s.average_score,onChange:a=>t("average_score",a.target.value),placeholder:"0.00",className:"w-full mt-1"}),e.jsx(c,{message:r.average_score,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(C,{onClick:l,children:"Batal"}),e.jsx(j,{disabled:g,children:"Simpan"})]})]})]})})]})}export{W as default};
