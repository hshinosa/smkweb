import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{q as G,r as l,f as N}from"./inertia-vendor-CFsdYvsV.js";import{A as R}from"./AdminLayout-BGv0ni_W.js";import{e as $,S as q,I as v,aw as J,T as w,ax as B,X as F,r as g}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./transition-CiB-21bZ.js";import"./app-BjrorLXI.js";const k=[{key:"monday",label:"Senin"},{key:"tuesday",label:"Selasa"},{key:"wednesday",label:"Rabu"},{key:"thursday",label:"Kamis"},{key:"friday",label:"Jumat"},{key:"saturday",label:"Sabtu"},{key:"sunday",label:"Minggu"}],S=["Seragam Harian","Seragam Dinas","Seragam Olahraga","Seragam Khusus"];function ee({seragams:u=[]}){const{errors:n}=G().props,[C,d]=l.useState(!1),[c,p]=l.useState(!1),[_,h]=l.useState(null),[y,D]=l.useState(""),[m,I]=l.useState(""),[P,o]=l.useState(!1),[z,b]=l.useState(null),[s,t]=l.useState({name:"",slug:"",category:"Seragam Harian",description:"",usage_days:[],rules:"",sort_order:0,is_active:!0,image:null,image_preview:null}),f=u.filter(a=>{const r=a.name.toLowerCase().includes(y.toLowerCase()),i=!m||a.category===m;return r&&i}),j=()=>{t({name:"",slug:"",category:"Seragam Harian",description:"",usage_days:[],rules:"",sort_order:u.length+1,is_active:!0,image:null,image_preview:null}),h(null),p(!1)},A=()=>{j(),d(!0)},E=a=>{t({name:a.name,slug:a.slug,category:a.category||"Seragam Harian",description:a.description||"",usage_days:a.usage_days||[],rules:a.rules||"",sort_order:a.sort_order||0,is_active:a.is_active,image:null,image_preview:a.image_url||null}),h(a.id),p(!0),d(!0)},T=a=>{b(a),o(!0)},M=()=>{N.delete(`/admin/seragam/${z}`,{onSuccess:()=>{o(!1),b(null)}})},H=a=>{a.preventDefault();const r=c?`/admin/seragam/${_}`:"/admin/seragam";N[c?"put":"post"](r,s,{onSuccess:()=>{d(!1),j()}})},K=a=>{const r=a.target.files[0];r&&t({...s,image:r,image_preview:URL.createObjectURL(r)})},L=a=>{const r=s.usage_days||[],i=r.includes(a)?r.filter(x=>x!==a):[...r,a];t({...s,usage_days:i})},O=a=>{const r=a.target.value;t({...s,name:r,slug:s.slug||r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")})};return e.jsxs(R,{title:"Kelola Seragam",breadcrumbs:[{label:"Dashboard",href:"/admin"},{label:"Seragam"}],children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kelola Seragam"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola data seragam sekolah"})]}),e.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-darker transition-colors",children:[e.jsx($,{size:20}),"Tambah Seragam"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari seragam...",value:y,onChange:a=>D(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("select",{value:m,onChange:a=>I(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"",children:"Semua Kategori"}),S.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Gambar"}),e.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Nama"}),e.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Kategori"}),e.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Jadwal"}),e.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:f.length>0?f.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:a.image_url?e.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-gray-300"})})})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.slug})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:a.category})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.usage_days?.length>0?a.usage_days.map(r=>{const i=k.find(x=>x.key===r);return i?i.label:r}).join(", "):"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${a.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.is_active?"Aktif":"Nonaktif"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>E(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(J,{size:18})}),e.jsx("button",{onClick:()=>T(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:e.jsx(w,{size:18})})]})})]},a.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Tidak ada data seragam"})]})})})]})})})]}),C&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Edit Seragam":"Tambah Seragam"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{size:20})})]}),e.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Seragam"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-xl border-2 border-dashed border-gray-300 overflow-hidden bg-gray-50 flex items-center justify-center",children:s.image_preview?e.jsx("img",{src:s.image_preview,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx(v,{className:"w-8 h-8 text-gray-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:K,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-primary file:text-white hover:file:bg-primary-darker"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, atau WebP. Maks 2MB"})]})]}),n?.image&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(g,{size:14})," ",n.image]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Seragam ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.name,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Contoh: Seragam Senin-Kamis",required:!0}),n?.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(g,{size:14})," ",n.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Slug ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.slug,onChange:a=>t({...s,slug:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"seragam-senin-kamis",required:!0}),n?.slug&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(g,{size:14})," ",n.slug]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:s.category,onChange:a=>t({...s,category:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:S.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urutan"}),e.jsx("input",{type:"number",value:s.sort_order,onChange:a=>t({...s,sort_order:parseInt(a.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),e.jsx("textarea",{value:s.description,onChange:a=>t({...s,description:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3,placeholder:"Deskripsi seragam..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jadwal Penggunaan"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(a=>e.jsx("button",{type:"button",onClick:()=>L(a.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s.usage_days?.includes(a.key)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a.label},a.key))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peraturan"}),e.jsx("textarea",{value:s.rules,onChange:a=>t({...s,rules:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:2,placeholder:"Peraturan penggunaan seragam..."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:a=>t({...s,is_active:a.target.checked}),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Aktif"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Batal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-darker transition-colors",children:c?"Simpan Perubahan":"Tambah Seragam"})]})]})]})]}),P&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>o(!1)}),e.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(w,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Hapus Seragam?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Apakah Anda yakin ingin menghapus seragam ini? Tindakan ini tidak dapat dibatalkan."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Batal"}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Hapus"})]})]})})]})]})}export{ee as default};
