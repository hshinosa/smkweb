import{j as e}from"./markdown-vendor-CIGiOj7E.js";import{r as d,S as C,j as I,J as E,f as p}from"./inertia-vendor-CFsdYvsV.js";import{A as P}from"./AdminLayout-BYuG-4eb.js";import{M as T}from"./Modal-rJC0U0UH.js";import{I as j}from"./InputLabel-B7Cy73bq.js";import{T as u}from"./TextInput-DXlIWAoE.js";import{I as g}from"./InputError-CW7Z9Fko.js";import{P as f}from"./PrimaryButton-BP4GzKQS.js";import{S as A}from"./SecondaryButton-DgUeLkam.js";import{aw as D,T as B,X as L,A as R,e as $}from"./ui-vendor-DKvpuSCb.js";import"./react-vendor-X_fu8xpB.js";import"./transition-CiB-21bZ.js";import"./app-SCjtbprB.js";import"./index-CjLAxSrQ.js";import"./typography-ChUjANkt.js";function ae({academic_year:r,exam_type:s,subjects:o}){const[v,i]=d.useState(!1),[m,c]=d.useState(!1),[N,x]=d.useState(null),{data:n,setData:l,post:y,put:J,processing:w,errors:h,reset:b}=C({academic_year:r,exam_type:s,subject_name:"",average_score:""}),S=()=>{c(!1),x(null),l({academic_year:r,exam_type:s,subject_name:"",average_score:""}),i(!0)},k=a=>{c(!0),x(a.id),l({academic_year:a.academic_year,exam_type:a.exam_type,subject_name:a.subject_name,average_score:a.average_score}),i(!0)},t=()=>{i(!1),b()},M=a=>{a.preventDefault(),m?p.put(route("admin.tka-averages.update",N),n,{onSuccess:()=>t()}):y(route("admin.tka-averages.store"),{onSuccess:()=>t()})},_=a=>{confirm("Hapus mata pelajaran ini?")&&p.delete(route("admin.tka-averages.destroy",a))};return e.jsxs(P,{title:`Detail ${s} ${r}`,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(E,{href:route("admin.tka-averages.index"),className:"text-gray-500 hover:text-gray-700",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[s," - ",r]})]}),e.jsxs(f,{onClick:S,className:"!bg-primary",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Tambah Mapel"]})]}),children:[e.jsx(I,{title:`Detail ${s}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mata Pelajaran"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nilai Rata-rata"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.subject_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold",children:a.average_score}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>k(a),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>_(a.id),className:"text-red-600 hover:text-red-900",children:e.jsx(B,{className:"w-5 h-5"})})]})]},a.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-12 text-center text-gray-500",children:"Belum ada mata pelajaran."})})]})]})})})})})}),e.jsx(T,{show:v,onClose:t,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m?"Edit Nilai":"Tambah Mata Pelajaran"}),e.jsx("button",{onClick:t,children:e.jsx(L,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{value:"Nama Mata Pelajaran"}),e.jsx(u,{value:n.subject_name,onChange:a=>l("subject_name",a.target.value),placeholder:"Contoh: Matematika",className:"w-full mt-1"}),e.jsx(g,{message:h.subject_name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(j,{value:"Nilai Rata-rata"}),e.jsx(u,{type:"number",step:"0.01",value:n.average_score,onChange:a=>l("average_score",a.target.value),placeholder:"0.00",className:"w-full mt-1"}),e.jsx(g,{message:h.average_score,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(A,{onClick:t,children:"Batal"}),e.jsx(f,{disabled:w,children:"Simpan"})]})]})]})})]})}export{ae as default};
